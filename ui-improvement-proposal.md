# Zenn Hack Extension UI改善提案書

このドキュメントは、Zenn Hack Extensionのユーザーインターフェース（UI）とユーザー体験（UX）を向上させるための具体的な改善案をまとめたものです。

## 1. 改善の目的

*   **情報アクセスの迅速化:** ユーザーが必要な情報や機能に素早くたどり着けるようにする。
*   **状態の可視性向上:** アプリケーションが現在どのような状態（ロード中、成功、エラーなど）にあるかを、ユーザーが直感的に理解できるようにする。
*   **インタラクションの明確化:** ユーザーのアクションに対して、より分かりやすく、心地よいフィードバックを返す。
*   **視覚的魅力の向上:** 全体的なデザインをより洗練させ、使っていて楽しいと感じるUIを目指す。

## 2. UI改善提案

### 提案1：ポップアップ画面のレイアウト刷新（タブ切り替えの導入）

**現状の課題:**
ポップアップ画面では、単語の追加機能がメインで表示されます。将来的に「最近追加した単語一覧」や「設定」などの機能が増えた場合、縦に長くなりすぎてスクロールが必要になり、視認性が低下する可能性があります。

**改善案:**
Radix UIの`Tabs`コンポーネントを活用し、機能をタブで切り替えられるようにします。

*   **「単語を追加」タブ:** 現在のメイン機能。
*   **「最近の単語」タブ:** 最近追加した単語を5〜10件表示するリスト。クリックで詳細を確認したり、削除したりできる。
*   **「設定」タブ:** ログアウトボタンや、将来的な設定項目（例：通知のON/OFF）を配置する。

**期待される効果:**
*   機能ごとに情報が整理され、UIがスッキリする。
*   ユーザーは目的の機能に1クリックでアクセスできる。
*   将来的な機能拡張にも対応しやすくなる。

### 提案2：単語追加時のフィードバック強化

**現状の課題:**
単語を追加すると、`addResult`の状態に応じてメッセージが表示されますが、3秒で消えてしまいます。成功したのか失敗したのか、ユーザーが見逃す可能性があります。

**改善案:**
*   **成功時:**
    *   「マイコレクションに追加」ボタンを一時的に「追加済み ✓」のような表示に切り替え、クリックできないようにする。
    *   成功メッセージは画面上部にトーストとして表示し、数秒後に自動で消えるアニメーションを加える。
*   **失敗時:**
    *   エラーメッセージは、ユーザーが閉じるまで表示し続ける。
    *   ボタンのローディング状態を解除し、再試行を促す。

**期待される効果:**
*   アクションの結果が明確に伝わり、ユーザーの安心感が高まる。
*   視覚的なフィードバックにより、操作の完了が直感的に理解できる。

### 提案3：`FlashcardItem`コンポーネントのインタラクティブ化

**現状の課題:**
`FlashcardItem`は主に情報を表示するためのコンポーネントですが、さらにインタラクティブな要素を加えることで、学習体験を向上させられます。

**改善案:**
*   **発音再生ボタンの追加:**
    *   単語の横にスピーカーアイコン（`Volume2`など）を配置し、クリックするとText-to-Speech API（例: `window.speechSynthesis`)を利用して単語を読み上げる機能を追加する。
*   **例文のハイライト:**
    *   例文（`exampleEng`）内の該当単語を`<strong>`タグで囲み、太字で表示する。これにより、文脈の中での使われ方が一目でわかるようになる。
*   **画像表示の改善:**
    *   画像がない場合に「🖼️ 画像なし」と表示する代わりに、単語の頭文字を大きく表示したプレースホルダーを生成する。これにより、視覚的な一貫性が保たれる。

**期待される効果:**
*   能動的な学習（聞く、文脈で確認する）を促し、記憶の定着を助ける。
*   UIがより動的で、使っていて楽しいものになる。

### 提案4：認証フォーム（`AuthForm`）のUX改善

**現状の課題:**
認証フォームは機能的に完成されていますが、細かい部分でUXを向上させる余地があります。

**改善案:**
*   **パスワード強度インジケーター:**
    *   パスワード入力中に、文字数や複雑さ（大文字、数字、記号の有無）に応じて「弱い」「普通」「強い」といったインジケーターを表示する。
*   **Enterキーでの送信:**
    *   フォーム内でEnterキーを押した際に、`handleSubmit`がトリガーされるようにする。（これは`react-hook-form`の標準的な挙動ですが、意図しない送信を防ぐ設定が入っていないか確認）
*   **エラー表示の改善:**
    *   Firebaseから返されるエラーメッセージ（例: `auth/email-already-in-use`）を、よりユーザーフレンドリーな日本語のメッセージに変換して表示する。「このメールアドレスは既に使用されています」など。

**期待される効果:**
*   サインアップ時の離脱率を低下させる。
*   ユーザーがエラー原因を特定しやすくなり、ストレスが軽減される。

## 3. 実装の進め方

1.  **ブランチの作成:** `feature/ui-improvement`のようなブランチを作成する。
2.  **コンポーネントの改修:**
    *   `@radix-ui/react-tabs`をインストールし、`src/popup/App.tsx`を改修してタブレイアウトを実装する。
    *   `FlashcardItem.tsx`に発音再生機能や例文ハイライト機能を追加する。
    *   `AuthForm.tsx`にエラーメッセージの日本語化処理を追加する。
3.  **動作確認:** `npm run dev`で拡張機能を起動し、各改善点が意図通りに動作するかを確認する。
4.  **プルリクエストの作成:** 変更内容をレビューしてもらうために、プルリクエストを作成する。
